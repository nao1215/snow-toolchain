<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Error_reporting (snow.Error_reporting)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../odoc.support/odoc.css"/><meta name="generator" content="odoc 3.1.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">Index</a> &#x00BB; <a href="../index.html">snow</a> &#x00BB; Error_reporting</nav><header class="odoc-preamble"><h1>Module <code><span>Error_reporting</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-position"><a href="#type-position" class="anchor"></a><code><span><span class="keyword">type</span> position</span><span> = </span><span>{</span></code><ol><li id="type-position.filename" class="def record field anchored"><a href="#type-position.filename" class="anchor"></a><code><span>filename : string;</span></code></li><li id="type-position.line" class="def record field anchored"><a href="#type-position.line" class="anchor"></a><code><span>line : int;</span></code></li><li id="type-position.column" class="def record field anchored"><a href="#type-position.column" class="anchor"></a><code><span>column : int;</span></code></li><li id="type-position.offset" class="def record field anchored"><a href="#type-position.offset" class="anchor"></a><code><span>offset : int;</span></code></li></ol><code><span>}</span></code></div><div class="spec-doc"><p>Source position information for error reporting</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-severity"><a href="#type-severity" class="anchor"></a><code><span><span class="keyword">type</span> severity</span><span> = </span></code><ol><li id="type-severity.Error" class="def variant constructor anchored"><a href="#type-severity.Error" class="anchor"></a><code><span>| </span><span><span class="constructor">Error</span></span></code></li><li id="type-severity.Warning" class="def variant constructor anchored"><a href="#type-severity.Warning" class="anchor"></a><code><span>| </span><span><span class="constructor">Warning</span></span></code></li><li id="type-severity.Note" class="def variant constructor anchored"><a href="#type-severity.Note" class="anchor"></a><code><span>| </span><span><span class="constructor">Note</span></span></code></li></ol></div><div class="spec-doc"><p>Error severity levels</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-error_category"><a href="#type-error_category" class="anchor"></a><code><span><span class="keyword">type</span> error_category</span><span> = </span></code><ol><li id="type-error_category.LexicalError" class="def variant constructor anchored"><a href="#type-error_category.LexicalError" class="anchor"></a><code><span>| </span><span><span class="constructor">LexicalError</span></span></code></li><li id="type-error_category.SyntaxError" class="def variant constructor anchored"><a href="#type-error_category.SyntaxError" class="anchor"></a><code><span>| </span><span><span class="constructor">SyntaxError</span></span></code></li><li id="type-error_category.TypeError" class="def variant constructor anchored"><a href="#type-error_category.TypeError" class="anchor"></a><code><span>| </span><span><span class="constructor">TypeError</span></span></code></li><li id="type-error_category.SemanticError" class="def variant constructor anchored"><a href="#type-error_category.SemanticError" class="anchor"></a><code><span>| </span><span><span class="constructor">SemanticError</span></span></code></li><li id="type-error_category.FileError" class="def variant constructor anchored"><a href="#type-error_category.FileError" class="anchor"></a><code><span>| </span><span><span class="constructor">FileError</span></span></code></li><li id="type-error_category.CompilerError" class="def variant constructor anchored"><a href="#type-error_category.CompilerError" class="anchor"></a><code><span>| </span><span><span class="constructor">CompilerError</span></span></code></li></ol></div><div class="spec-doc"><p>Error category for better organization</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-error_info"><a href="#type-error_info" class="anchor"></a><code><span><span class="keyword">type</span> error_info</span><span> = </span><span>{</span></code><ol><li id="type-error_info.category" class="def record field anchored"><a href="#type-error_info.category" class="anchor"></a><code><span>category : <a href="#type-error_category">error_category</a>;</span></code></li><li id="type-error_info.severity" class="def record field anchored"><a href="#type-error_info.severity" class="anchor"></a><code><span>severity : <a href="#type-severity">severity</a>;</span></code></li><li id="type-error_info.code" class="def record field anchored"><a href="#type-error_info.code" class="anchor"></a><code><span>code : string;</span></code></li><li id="type-error_info.title" class="def record field anchored"><a href="#type-error_info.title" class="anchor"></a><code><span>title : string;</span></code></li><li id="type-error_info.message" class="def record field anchored"><a href="#type-error_info.message" class="anchor"></a><code><span>message : string;</span></code></li><li id="type-error_info.position" class="def record field anchored"><a href="#type-error_info.position" class="anchor"></a><code><span>position : <span><a href="#type-position">position</a> option</span>;</span></code></li><li id="type-error_info.suggestions" class="def record field anchored"><a href="#type-error_info.suggestions" class="anchor"></a><code><span>suggestions : <span>string list</span>;</span></code></li><li id="type-error_info.source_context" class="def record field anchored"><a href="#type-error_info.source_context" class="anchor"></a><code><span>source_context : <span>string option</span>;</span></code></li></ol><code><span>}</span></code></div><div class="spec-doc"><p>Comprehensive error information</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-color_reset"><a href="#val-color_reset" class="anchor"></a><code><span><span class="keyword">val</span> color_reset : string</span></code></div><div class="spec-doc"><p>ANSI color codes for terminal output</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-color_red"><a href="#val-color_red" class="anchor"></a><code><span><span class="keyword">val</span> color_red : string</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-color_yellow"><a href="#val-color_yellow" class="anchor"></a><code><span><span class="keyword">val</span> color_yellow : string</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-color_blue"><a href="#val-color_blue" class="anchor"></a><code><span><span class="keyword">val</span> color_blue : string</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-color_bold"><a href="#val-color_bold" class="anchor"></a><code><span><span class="keyword">val</span> color_bold : string</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-color_dim"><a href="#val-color_dim" class="anchor"></a><code><span><span class="keyword">val</span> color_dim : string</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-severity_to_string"><a href="#val-severity_to_string" class="anchor"></a><code><span><span class="keyword">val</span> severity_to_string : <span><a href="#type-severity">severity</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Format severity for display</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-category_to_string"><a href="#val-category_to_string" class="anchor"></a><code><span><span class="keyword">val</span> category_to_string : <span><a href="#type-error_category">error_category</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Format error category</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_source_line"><a href="#val-get_source_line" class="anchor"></a><code><span><span class="keyword">val</span> get_source_line : <span>string <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>string option</span></span></code></div><div class="spec-doc"><p>Extract source line from content</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-create_position_indicator"><a href="#val-create_position_indicator" class="anchor"></a><code><span><span class="keyword">val</span> create_position_indicator : <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Create visual indicator for error position</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-format_source_context"><a href="#val-format_source_context" class="anchor"></a><code><span><span class="keyword">val</span> format_source_context : <span><a href="#type-error_info">error_info</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span>string option</span></span></code></div><div class="spec-doc"><p>Format source context with highlighting</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-format_error_message"><a href="#val-format_error_message" class="anchor"></a><code><span><span class="keyword">val</span> format_error_message : <span><a href="#type-error_info">error_info</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Format error message for display</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-lexical_error"><a href="#val-lexical_error" class="anchor"></a><code><span><span class="keyword">val</span> lexical_error : 
  <span><span class="label">filename</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">line</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">column</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">offset</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">code</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">title</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">message</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?suggestions</span>:<span>string list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-error_info">error_info</a></span></code></div><div class="spec-doc"><p>Create error for lexical issues</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-syntax_error"><a href="#val-syntax_error" class="anchor"></a><code><span><span class="keyword">val</span> syntax_error : 
  <span><span class="label">filename</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">line</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">column</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">offset</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">code</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">title</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">message</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?suggestions</span>:<span>string list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-error_info">error_info</a></span></code></div><div class="spec-doc"><p>Create error for syntax issues</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-type_error"><a href="#val-type_error" class="anchor"></a><code><span><span class="keyword">val</span> type_error : 
  <span><span class="label">filename</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">line</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">column</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">offset</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">code</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">title</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">message</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?suggestions</span>:<span>string list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-error_info">error_info</a></span></code></div><div class="spec-doc"><p>Create error for type issues</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-file_error"><a href="#val-file_error" class="anchor"></a><code><span><span class="keyword">val</span> file_error : 
  <span><span class="label">filename</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">code</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">title</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">message</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?suggestions</span>:<span>string list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-error_info">error_info</a></span></code></div><div class="spec-doc"><p>Create error for file issues</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-compiler_error"><a href="#val-compiler_error" class="anchor"></a><code><span><span class="keyword">val</span> compiler_error : 
  <span><span class="label">code</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">title</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">message</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?suggestions</span>:<span>string list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-error_info">error_info</a></span></code></div><div class="spec-doc"><p>Create compiler internal error</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-print_error"><a href="#val-print_error" class="anchor"></a><code><span><span class="keyword">val</span> print_error : <span><a href="#type-error_info">error_info</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Print error to stderr</p></div></div><p>Common error patterns with predefined messages</p><div class="odoc-spec"><div class="spec value anchored" id="val-unterminated_string_error"><a href="#val-unterminated_string_error" class="anchor"></a><code><span><span class="keyword">val</span> unterminated_string_error : 
  <span><span class="label">filename</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">line</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">column</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">offset</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-error_info">error_info</a></span></code></div><div class="spec-doc"><p>Unterminated string literal</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-invalid_escape_error"><a href="#val-invalid_escape_error" class="anchor"></a><code><span><span class="keyword">val</span> invalid_escape_error : 
  <span><span class="label">filename</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">line</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">column</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">offset</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">escape_char</span>:char <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-error_info">error_info</a></span></code></div><div class="spec-doc"><p>Invalid escape sequence</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-expected_token_error"><a href="#val-expected_token_error" class="anchor"></a><code><span><span class="keyword">val</span> expected_token_error : 
  <span><span class="label">filename</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">line</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">column</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">offset</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">expected</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">found</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-error_info">error_info</a></span></code></div><div class="spec-doc"><p>Expected token</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-missing_main_error"><a href="#val-missing_main_error" class="anchor"></a><code><span><span class="keyword">val</span> missing_main_error : <span><span class="label">filename</span>:string <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="arrow">&#45;&gt;</span></span> <a href="#type-error_info">error_info</a></span></code></div><div class="spec-doc"><p>Missing main function</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-type_mismatch_error"><a href="#val-type_mismatch_error" class="anchor"></a><code><span><span class="keyword">val</span> type_mismatch_error : 
  <span><span class="label">filename</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">line</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">column</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">offset</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">expected_type</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">actual_type</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-error_info">error_info</a></span></code></div><div class="spec-doc"><p>Type mismatch</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-file_not_found_error"><a href="#val-file_not_found_error" class="anchor"></a><code><span><span class="keyword">val</span> file_not_found_error : <span><span class="label">filename</span>:string <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="arrow">&#45;&gt;</span></span> <a href="#type-error_info">error_info</a></span></code></div><div class="spec-doc"><p>File not found</p></div></div></div></body></html>
