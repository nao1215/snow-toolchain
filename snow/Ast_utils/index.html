<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Ast_utils (snow.Ast_utils)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../odoc.support/odoc.css"/><meta name="generator" content="odoc 3.1.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">Index</a> &#x00BB; <a href="../index.html">snow</a> &#x00BB; Ast_utils</nav><header class="odoc-preamble"><h1>Module <code><span>Ast_utils</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec exception anchored" id="exception-Ast_util_error"><a href="#exception-Ast_util_error" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Ast_util_error</span> <span class="keyword">of</span> string</span></code></div><div class="spec-doc"><p>Exception type for AST utility errors</p></div></div><p>Literal type inference utilities.</p><p>This section provides functions for inferring types from literal expressions. These functions are used by both the basic and advanced type checkers to avoid code duplication.</p><div class="odoc-spec"><div class="spec value anchored" id="val-infer_literal_type"><a href="#val-infer_literal_type" class="anchor"></a><code><span><span class="keyword">val</span> infer_literal_type : <span><a href="../Ast/index.html#type-expr">Ast.expr</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Ast/index.html#type-typ">Ast.typ</a></span></code></div><div class="spec-doc"><p>Infer the type of a literal expression.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">expr</span> <p>The expression to infer the type for</p></li></ul><ul class="at-tags"><li class="returns"><span class="at-tag">returns</span> <p>The inferred type</p></li></ul><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <a href="#exception-Ast_util_error"><code>Ast_util_error</code></a> <p>if the expression is not a literal</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-is_literal"><a href="#val-is_literal" class="anchor"></a><code><span><span class="keyword">val</span> is_literal : <span><a href="../Ast/index.html#type-expr">Ast.expr</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Check if an expression is a literal.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">expr</span> <p>The expression to check</p></li></ul><ul class="at-tags"><li class="returns"><span class="at-tag">returns</span> <p>true if the expression is a literal, false otherwise</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-type_to_string"><a href="#val-type_to_string" class="anchor"></a><code><span><span class="keyword">val</span> type_to_string : <span><a href="../Ast/index.html#type-typ">Ast.typ</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Get the string representation of a type for error messages.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">typ</span> <p>The type to convert to string</p></li></ul><ul class="at-tags"><li class="returns"><span class="at-tag">returns</span> <p>String representation of the type</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-expr_to_string"><a href="#val-expr_to_string" class="anchor"></a><code><span><span class="keyword">val</span> expr_to_string : <span><a href="../Ast/index.html#type-expr">Ast.expr</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Get the string representation of an expression for error messages.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">expr</span> <p>The expression to convert to string</p></li></ul><ul class="at-tags"><li class="returns"><span class="at-tag">returns</span> <p>String representation of the expression</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-types_equal"><a href="#val-types_equal" class="anchor"></a><code><span><span class="keyword">val</span> types_equal : <span><a href="../Ast/index.html#type-typ">Ast.typ</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Ast/index.html#type-typ">Ast.typ</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Check if two types are equivalent.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">t1</span> <p>The first type</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">t2</span> <p>The second type</p></li></ul><ul class="at-tags"><li class="returns"><span class="at-tag">returns</span> <p>true if types are equivalent, false otherwise</p></li></ul></div></div><p>Token conversion utilities.</p><p>This section provides functions for converting tokens to AST nodes. These functions are used by the parser to eliminate code duplication in token-to-AST conversion logic.</p><div class="odoc-spec"><div class="spec value anchored" id="val-token_to_expr"><a href="#val-token_to_expr" class="anchor"></a><code><span><span class="keyword">val</span> token_to_expr : <span><a href="../Lexer/index.html#type-token">Lexer.token</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Ast/index.html#type-expr">Ast.expr</a></span></code></div><div class="spec-doc"><p>Convert token to expression.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">token</span> <p>The token to convert</p></li></ul><ul class="at-tags"><li class="returns"><span class="at-tag">returns</span> <p>The corresponding expression</p></li></ul><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <a href="#exception-Ast_util_error"><code>Ast_util_error</code></a> <p>if the token cannot be converted to expression</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-token_to_type"><a href="#val-token_to_type" class="anchor"></a><code><span><span class="keyword">val</span> token_to_type : <span><a href="../Lexer/index.html#type-token">Lexer.token</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Ast/index.html#type-typ">Ast.typ</a></span></code></div><div class="spec-doc"><p>Convert token to type.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">token</span> <p>The token to convert</p></li></ul><ul class="at-tags"><li class="returns"><span class="at-tag">returns</span> <p>The corresponding type</p></li></ul><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <a href="#exception-Ast_util_error"><code>Ast_util_error</code></a> <p>if the token cannot be converted to type</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-token_to_binop"><a href="#val-token_to_binop" class="anchor"></a><code><span><span class="keyword">val</span> token_to_binop : <span><a href="../Lexer/index.html#type-token">Lexer.token</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Ast/index.html#type-binop">Ast.binop</a></span></code></div><div class="spec-doc"><p>Convert token to binary operator.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">token</span> <p>The token to convert</p></li></ul><ul class="at-tags"><li class="returns"><span class="at-tag">returns</span> <p>The corresponding binary operator</p></li></ul><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <a href="#exception-Ast_util_error"><code>Ast_util_error</code></a> <p>if the token cannot be converted to binary operator</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-token_to_unop"><a href="#val-token_to_unop" class="anchor"></a><code><span><span class="keyword">val</span> token_to_unop : <span><a href="../Lexer/index.html#type-token">Lexer.token</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Ast/index.html#type-unop">Ast.unop</a></span></code></div><div class="spec-doc"><p>Convert token to unary operator.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">token</span> <p>The token to convert</p></li></ul><ul class="at-tags"><li class="returns"><span class="at-tag">returns</span> <p>The corresponding unary operator</p></li></ul><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <a href="#exception-Ast_util_error"><code>Ast_util_error</code></a> <p>if the token cannot be converted to unary operator</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-token_to_string"><a href="#val-token_to_string" class="anchor"></a><code><span><span class="keyword">val</span> token_to_string : <span><a href="../Lexer/index.html#type-token">Lexer.token</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Get string representation of token for error messages.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">token</span> <p>The token to convert to string</p></li></ul><ul class="at-tags"><li class="returns"><span class="at-tag">returns</span> <p>String representation of the token</p></li></ul></div></div></div></body></html>
